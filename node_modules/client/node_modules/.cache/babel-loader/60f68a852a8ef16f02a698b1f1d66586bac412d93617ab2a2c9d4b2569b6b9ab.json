{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import formatDate from'../../utils/formatDate';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{style:{color:\"#108A00\"},children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",formatDate(date)]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",style:{fontSize:\"medium\"},children:[\"Discussions\",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"commentCount\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]});};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"names":["React","Link","formatDate","connect","addLike","removeLike","deletePost","jsx","_jsx","jsxs","_jsxs","PostItem","_ref","auth","_ref$post","post","_id","text","name","avatar","user","likes","comments","date","className","children","to","concat","src","alt","style","color","onClick","type","length","fontSize","loading","mapStateToProps","state"],"sources":["D:/Documents/Semester 7/New folder/JOB-HIVE-main/JOB-HIVE-main/client/src/components/posts/PostItem.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport formatDate from '../../utils/formatDate';\nimport { connect } from 'react-redux';\nimport { addLike, removeLike, deletePost } from '../../actions/post';\n\nconst PostItem = ({\n  addLike,\n  removeLike,\n  deletePost,\n  auth,\n  post: { _id, text, name, avatar, user, likes, comments, date }\n}) => (\n  <div className=\"post bg-white p-1 my-1\">\n    <div>\n      <Link to={`/profile/${user}`}>\n        <img className=\"round-img\" src={avatar} alt=\"\" />\n        <h4   style={{color:\"#108A00\"}}>{name}</h4>\n      </Link>\n    </div>\n    <div>\n      <p className=\"my-1\">{text}</p>\n      <p className=\"post-date\">Posted on {formatDate(date)}</p>\n\n      <button\n        onClick={() => addLike(_id)}\n        type=\"button\"\n        className=\"btn btn-light\"\n      >\n        <i className=\"fas fa-thumbs-up\" />{' '}\n        <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n      </button>\n      <button\n        onClick={() => removeLike(_id)}\n        type=\"button\"\n        className=\"btn btn-light\"\n      >\n        <i className=\"fas fa-thumbs-down\" />\n      </button>\n      <Link to={`/posts/${_id}`} className=\"btn btn-primary\" style={{fontSize:\"medium\"}}>\n        Discussions{' '}\n        {comments.length > 0 && (\n          <span className=\"commentCount\">{comments.length}</span>\n        )}\n      </Link>\n      {!auth.loading && user === auth.user._id && (\n        <button\n          onClick={() => deletePost(_id)}\n          type=\"button\"\n          className=\"btn btn-danger\"\n        >\n          <i className=\"fas fa-times\" />\n        </button>\n      )}\n    </div>\n  </div>\n);\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  addLike: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\n  PostItem\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}